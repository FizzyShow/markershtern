ProductServices ("Механизм выставление заявки (список заявок)")

adr by team#2

Статус:
	Предложено

Проблема:
Мироксервис с заявками на покупку/продажу товара:
	модель заявкаи
	модель событий заявок
	бд заявкаов в mongodb
	сервис взаимодействия с бд заявок
	обмен событиями по kafka (crud)

Решение:

	МОДЕЛЬ ЗАЯВКИ.
	модель заявки есть следующая:
	{
		[id]
		string Id

		string OwnerID

		[unique]
		string Name

		int Price

		int Quanity
	}


	МОДЕЛЬ СОБЫТИЙ.
	модель события изменения заявки: // можно разбить на несколько событий?
	{
		string ProductId
		
		string OldOwnerID

		string NewOwnerID

		int OldQuanity

		int newQuanity
	}
	модель события добавления заявки:
	{
		string ProductId

		string OwnerID

		string ProductName

		int ProductPrice

		int ProductQuanity
	}


	БД ЗАЯВОК с mongodb
	2 массива документов
		#1 с заявкаами на продажу
		#2 с заявкаами на покупку


	СЕРВИС ВЗАИМОДЕЙСТВИЯ С БД ЗАЯВОК
	Здесь будет находиться реализация для crud-операций для каждой таблицы из контекста mongodb
	Также в методах crud будет находиться проверка валидности входных параметров
		*будет учитываться что заявку покупки (продажи) будет возможно закрывать не полностью (допустим купить половину от объема,
																										другая половина также висит)

	ОБМЕН СОБЫТИЯМИ По kafka (CRUD)
		пока не совсем имею представление как это будет реализовываться на практике,
		сервис будет подписан на события crud операции с заявкой.
		Следовательно сервис будет получать события с подписок,
		сериализовать полученную информацию использую с grpc в c#-objs,
		затем аналогично сериализовать ответ из c#-objs в grpc и отправить в шину.